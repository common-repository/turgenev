!function(e){var t={};function n(r){if(t[r])return t[r].exports;var c=t[r]={i:r,l:!1,exports:{}};return e[r].call(c.exports,c,c.exports,n),c.l=!0,c.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)n.d(r,c,function(t){return e[t]}.bind(null,c));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(e,t){!function(){e.exports=this.wp.element}()},function(e,t){!function(){e.exports=this.wp.i18n}()},function(e,t){!function(){e.exports=this.wp.components}()},function(e,t){!function(){e.exports=this.wp.editPost}()},function(e,t){!function(){e.exports=this.wp.plugins}()},function(e,t){!function(){e.exports=this.wp.compose}()},function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(4),a=n(3),o=n(2),l=n(5),u=n(1),i=(n(7),wp.data.select),s=Object(u.__)('"Turgenev"',"turgenev"),d=!0,b="https://turgenev.ashmanov.com",p=function(){return Object(r.createElement)(o.Icon,{icon:Object(r.createElement)("svg",null,Object(r.createElement)("path",{d:"M5 4v3h5.5v12h3V7H19V4z"}))})},v=function(){var e=new XMLHttpRequest,t="api=balance&key=".concat(turgenev_ajax.api_key);return e.open("POST",b,!0),e.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),e.onload=function(){if(e.status>=200&&e.status<300){var t=e.response;if(t){var n=JSON.parse(t),r=document.getElementById("turgenev-balance"),c=document.getElementById("turgenev-workflow"),a=document.getElementById("turgenev-top-up");r.innerHTML="".concat(n.balance,"&nbsp;&#8381;"),parseFloat(n.balance)<10&&(r.style.color="#ac2929",r.classList.add("turgenev-blink")),parseFloat(n.balance)<=5?(c&&c.remove(),a&&(a.style.display="inline-block")):(c&&(c.style.display="block"),a&&a.remove())}}},e.send(t),{__html:"..."}},f=function(e){switch(e){case"frequency":e=Object(u.__)("Frequency","turgenev");break;case"style":e=Object(u.__)("Style","turgenev");break;case"keywords":e=Object(u.__)("Keywords","turgenev");break;case"formality":e=Object(u.__)("Formality","turgenev");break;case"readability":e=Object(u.__)("Readability","turgenev")}return e},g=function(){var e=new XMLHttpRequest,t=i("core/editor").getEditedPostAttribute("content"),n="";if(d){var r=document.createElement("div");r.innerHTML=t,n=r.textContent||r.innerText||""}else n=t;if(n=n.trim()){var c="api=risk&more=1&key=".concat(turgenev_ajax.api_key,"&text=").concat(encodeURIComponent(n)),a=document.getElementById("turgenev-panel");a.style.opacity="0.5",a.style.cursor="default",a.style.pointerEvents="none",e.open("POST",b,!0),e.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),e.onload=function(){if(e.status>=200&&e.status<300){var t=e.response;if(t)!function(e){var t=document.getElementById("turgenev-table"),n=e.details,r="";if(r+='<div class="form-table-responsive"><table class="form-table">',e.hasOwnProperty("error"))r+="<tr><th>".concat(e.error,"</th></tr>");else{var c=f(e.level);for(var a in r+="<tr><th>".concat(Object(u.__)("Overall risk","turgenev"),"</th><td>").concat(c," <strong>(").concat(e.risk,")</strong></td></tr>\n        <tr><th>").concat(Object(u.__)("Report","turgenev"),'</th><td><a href="').concat(b,"/?t=").concat(e.link,'" target="_blank">').concat(Object(u.__)("More","turgenev"),"</a></td></tr>\n        "),n){var o=f(n[a].block),l=n[a].sum,i=n[a].params,s=n[a].link;for(var d in r+='<tr><th class="tg-head">'.concat(o," (").concat(l,')</th><td class="tg-head"><a href="').concat(b,"/?t=").concat(s,'" target="_blank">').concat(Object(u.__)("More","turgenev"),"</a></td></tr>"),i){var p=i[d].name,v=i[d].value,g=i[d].score;r+="<tr><th>".concat(p,"</th><td>").concat(v," (<strong>").concat(g,"</strong>)</td></tr>")}}}r+="</table></div>",t.innerHTML=r}(JSON.parse(t)),v(),a.style.opacity="1",a.style.cursor="auto",a.style.pointerEvents="auto"}},e.send(c)}else{var o=document.getElementById("turgenev-table");o.style.marginLeft="0",o.style.marginRight="0",o.innerText=Object(u.__)("Failed to parse content. Add content to the editor or click in the editable area.","turgenev")}},m=function(){return Object(r.createElement)("p",null,Object(u.__)("Current balance:","turgenev")," ",Object(r.createElement)("strong",{id:"turgenev-balance",dangerouslySetInnerHTML:v()}))},O=function(){return Object(r.createElement)(o.Button,{isSecondary:!0,onClick:g},Object(u.__)("Check content","turgenev"))},y=function(){return Object(r.createElement)("div",{id:"turgenev-table"})},j=function(){return Object(r.createElement)("p",null,Object(r.createElement)(h,null),Object(u.__)("Check raw content","turgenev"),Object(r.createElement)("small",null,Object(u.__)("If the option is enabled, then the content will be checked without HTML tags. Only plain text.","turgenev")))},h=Object(l.withState)({checked:!0})((function(e){var t=e.checked,n=e.setState;return Object(r.createElement)(o.FormToggle,{checked:t,onChange:function(){d=!t,n((function(e){return{checked:!e.checked}}))}})})),_=function(){return Object(r.createElement)(o.PanelBody,null,Object(r.createElement)("div",{id:"turgenev-panel"},Object(r.createElement)(m,null),Object(r.createElement)("div",{id:"turgenev-workflow"},Object(r.createElement)(j,null),Object(r.createElement)(O,null),Object(r.createElement)(y,null)),Object(r.createElement)("a",{href:"https://turgenev.ashmanov.com/?a=pay",className:"button",id:"turgenev-top-up",target:"_blank"},Object(u.__)("Top-up balance","turgenev"))))};Object(c.registerPlugin)("turgenev",{render:function(){return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(a.PluginSidebarMoreMenuItem,{target:"turgenev-sidebar",icon:Object(r.createElement)(p,null)},s),Object(r.createElement)(a.PluginSidebar,{name:"turgenev-sidebar",title:s},Object(r.createElement)(_,null)))},icon:Object(r.createElement)(p,null)})},function(e,t,n){}]);